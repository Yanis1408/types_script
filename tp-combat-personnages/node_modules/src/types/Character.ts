import {getRandomInt} from "src/helpers/random-int.helper";
import {Action} from "src/types/action.type";

export class Character {
    public attackSpeed: number;
    public name: string;
    
    protected health: number;
    protected isProtected: boolean = false;
    protected possibleActions: Action[] = [];

    constructor(name: string, speed: number, health: number = 100, actions: Action[] = []) {
        this.name = name;
        this.attackSpeed = speed;
        this.health = health;
        this.possibleActions = actions;
        console.log(`${this.name} a rejoint le combat (PV: ${this.health}, VA: ${this.attackSpeed})`);
    }

    public isAlive(): boolean {
        return this.health > 0;
    }

    public protectSelf(): void {
        this.isProtected = true;
        console.log(`\nğŸ›¡ï¸ ${this.name} utilise son bouclier !`);
    }

    public takeDamage(amount: number): void {

    if (this.isProtected = true){ 
    console.log(`\nğŸ›¡ï¸ ${this.name} utilise son bouclier !${amount}`);
    this.isProtected = false ;
    return ;}

   this.health -= amount;
   console.log(`${this.name} a pris ${amount} points de dÃ©gÃ¢ts`)

 if (this.health <= 0) {
        this.health = 0;
        console.log(`ğŸ’€ ${this.name} est vaincu`);
    } else {
        console.log(`${this.name} a ${this.health} points de vie restants`);
    }

    }

    public performTurn(target: Character): void {
        // ComplÃ©ter la mÃ©thode
    }
}